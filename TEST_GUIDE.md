# –ë—ã—Å—Ç—Ä—ã–π –≥–∞–π–¥ –ø–æ —Ç–µ—Å—Ç–∞–º

## –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
# –°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–±
make test

# –° –ø–æ–∫—Ä—ã—Ç–∏–µ–º –∫–æ–¥–∞ (–æ—Ç–∫—Ä–æ–µ—Ç HTML –æ—Ç—á—ë—Ç)
make test-coverage

# –ö–∞–∫ –≤ CI (—Å race detector –∏ –ø—Ä–æ–≤–µ—Ä–∫–æ–π coverage ‚â•80%)
make test-ci
```

## –ü–æ–∫—Ä—ã—Ç–∏–µ: 92.4% ‚úÖ

- Domain: 100.0%
- Service: 94.6%
- Repository: 89.7%

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤

```
internal/
‚îú‚îÄ‚îÄ service/
‚îÇ   ‚îú‚îÄ‚îÄ auth_test.go      # –¢–µ—Å—Ç—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ word_test.go      # –¢–µ—Å—Ç—ã —Ä–∞–±–æ—Ç—ã —Å–æ —Å–ª–æ–≤–∞–º–∏
‚îÇ   ‚îî‚îÄ‚îÄ stats_test.go     # –¢–µ—Å—Ç—ã —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
‚îú‚îÄ‚îÄ repository/postgres/
‚îÇ   ‚îú‚îÄ‚îÄ user_test.go      # SQL —Ç–µ—Å—Ç—ã (user)
‚îÇ   ‚îî‚îÄ‚îÄ word_test.go      # SQL —Ç–µ—Å—Ç—ã (words)
‚îî‚îÄ‚îÄ domain/
    ‚îî‚îÄ‚îÄ day_test.go       # –¢–µ—Å—Ç—ã —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
```

## GitLab CI/CD

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞

1. –°–æ–∑–¥–∞–π –≤–µ—Ç–∫—É `private`:
```bash
git checkout -b private
git push -u origin private
```

2. –í GitLab: **Settings ‚Üí CI/CD ‚Üí Variables** –¥–æ–±–∞–≤—å:
   - `SSH_PRIVATE_KEY` - SSH –∫–ª—é—á –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞
   - `SERVER_HOST` - –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞  
   - `SERVER_USER` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å SSH
   - `DEPLOY_PATH` - –ø—É—Ç—å –∫ –ø—Ä–æ–µ–∫—Ç—É
   - `BOT_TOKEN`, `BOT_PASSWORD`, `DB_PASSWORD`

3. Push –∑–∞–ø—É—Å—Ç–∏—Ç pipeline:
```bash
git push origin private
```

### Pipeline —Å—Ç–∞–¥–∏–∏

1. **Test** (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏) - –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤, –ø—Ä–æ–≤–µ—Ä–∫–∞ coverage
2. **Build** (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏) - —Å–±–æ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑–∞
3. **Deploy** (–≤—Ä—É—á–Ω—É—é) - –¥–µ–ø–ª–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ - –Ω–∞–∂–º–∏ ‚ñ∂Ô∏è –Ω–∞ deploy –≤ GitLab UI.

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **docs/TESTING.md** - –ø–æ–ª–Ω—ã–π –≥–∞–π–¥ –ø–æ —Ç–µ—Å—Ç–∞–º
- **docs/CI_CD.md** - –ø–æ–ª–Ω—ã–π –≥–∞–π–¥ –ø–æ CI/CD
- **docs/ARCHITECTURE.md** - –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

## –ö–æ–º–∞–Ω–¥—ã

```bash
make test              # –í—Å–µ —Ç–µ—Å—Ç—ã
make test-coverage     # –° –ø–æ–∫—Ä—ã—Ç–∏–µ–º
make test-ci           # –ö–∞–∫ –≤ CI
make test-unit         # –¢–æ–ª—å–∫–æ unit
make test-verbose      # –° –ø–æ–¥—Ä–æ–±–Ω—ã–º –≤—ã–≤–æ–¥–æ–º
```

–ì–æ—Ç–æ–≤–æ! üöÄ

